!function(){"use strict";const e=window.wppoLazyLoadConfig?.offset||200,t=window.wppoLazyLoadConfig?.throttleDelay||100;let a,o=!1;function r(t){const a=t.getBoundingClientRect();return a.top<=(window.innerHeight||document.documentElement.clientHeight)+e&&a.bottom>=-e&&a.left<=(window.innerWidth||document.documentElement.clientWidth)+e&&a.right>=-e}function s(e){"true"!==e.dataset.wppoLoaded&&(e.dataset.wppoLoaded="true",e.dataset.src&&(e.src=e.dataset.src,e.removeAttribute("data-src")),e.dataset.srcset&&(e.srcset=e.dataset.srcset,e.removeAttribute("data-srcset")),e.dataset.sizes&&(e.sizes=e.dataset.sizes,e.removeAttribute("data-sizes")),"IMG"===e.tagName&&e.parentElement&&"PICTURE"===e.parentElement.tagName&&e.parentElement.querySelectorAll("source[data-srcset]").forEach(s),e.classList.add("wppo-lazy-loaded"),e.classList.remove("wppo-lazy-image"))}function d(e){if("true"===e.dataset.wppoProcessed)return;e.dataset.wppoProcessed="true";const t=document.createElement("script"),a=e.getAttribute("data-wppo-type")||"text/javascript";if(t.type=a,Array.from(e.attributes).forEach((e=>{["type","data-wppo-type","data-wppo-src","data-wppo-processed","data-wppo-load-on-scroll"].includes(e.name.toLowerCase())||t.setAttribute(e.name,e.value)})),e.hasAttribute("async")&&(t.async=!0),e.hasAttribute("data-wppo-src")){const a=e.getAttribute("data-wppo-src");t.src=a,t.onerror=()=>console.error("WPPO: Delayed external script failed to load:",t.src)}else t.textContent=e.textContent||e.innerText||"";e.parentNode?(e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e)):(console.error("WPPO: Placeholder script has no parentNode! Appending to head as fallback.",e),document.head.appendChild(t))}function n(){let e=!1;document.querySelectorAll('img.wppo-lazy-image[data-src]:not([data-wppo-loaded="true"]), picture source[data-srcset]:not([data-wppo-loaded="true"])').forEach((t=>{r(t)&&(s(t),e=!0)})),document.querySelectorAll('iframe.wppo-lazy-iframe[data-src]:not([data-wppo-loaded="true"])').forEach((t=>{r(t)&&(function(e){"true"!==e.dataset.wppoLoaded&&(e.dataset.wppoLoaded="true",e.dataset.src&&(e.src=e.dataset.src,e.removeAttribute("data-src")),e.classList.add("wppo-lazy-loaded"),e.classList.remove("wppo-lazy-iframe"))}(t),e=!0)})),document.querySelectorAll('video.wppo-lazy-video:not([data-wppo-loaded="true"])').forEach((t=>{r(t)&&(function(e){"true"!==e.dataset.wppoLoaded&&(e.dataset.wppoLoaded="true",e.dataset.poster&&(e.poster=e.dataset.poster,e.removeAttribute("data-poster")),e.querySelectorAll("source[data-src]").forEach((e=>{e.dataset.src&&(e.src=e.dataset.src,e.removeAttribute("data-src"))})),e.dataset.src&&(e.src=e.dataset.src,e.removeAttribute("data-src")),e.load(),e.classList.add("wppo-lazy-loaded"),e.classList.remove("wppo-lazy-video"))}(t),e=!0)}));const t=document.querySelectorAll('script[type="wppo/javascript"]:not([data-wppo-processed="true"])');t.length,t.forEach((t=>{const a="true"===t.dataset.wppoLoadOnScroll;(o||a&&r(t))&&(d(t),e=!0)})),function(){const e=document.querySelectorAll('img.wppo-lazy-image[data-src]:not([data-wppo-loaded="true"]), picture source[data-srcset]:not([data-wppo-loaded="true"])').length,t=document.querySelectorAll('iframe.wppo-lazy-iframe[data-src]:not([data-wppo-loaded="true"])').length,a=document.querySelectorAll('video.wppo-lazy-video:not([data-wppo-loaded="true"])').length,o=document.querySelectorAll('script[type="wppo/javascript"]:not([data-wppo-processed="true"])').length;0===e&&0===t&&0===a&&0===o&&(document.removeEventListener("scroll",c,{passive:!0}),window.removeEventListener("resize",c,{passive:!0}),window.removeEventListener("orientationchange",c,{passive:!0}))}()}function c(){a&&clearTimeout(a),a=setTimeout((()=>{n()}),t)}function p(e){o||(o=!0,n(),["scroll","mousemove","mousedown","touchstart","keydown","wheel"].forEach((e=>{document.removeEventListener(e,p,{passive:!0,capture:!0})})))}const i=navigator.userAgent;/bot|google|crawl|spider|slurp|baidu|bing|msn|duckduckbot|teoma|yandex/i.test(i)||document.body&&document.body.classList.contains("logged-in")?document.querySelectorAll('script[type="wppo/javascript"]:not([data-wppo-processed="true"])').forEach((e=>{console.warn("WPPO: Executing delayed script immediately due to bot/logged-in user:",e),d(e)})):(document.addEventListener("scroll",c,{passive:!0}),window.addEventListener("resize",c,{passive:!0}),window.addEventListener("orientationchange",c,{passive:!0}),["scroll","mousemove","mousedown","touchstart","keydown","wheel"].forEach((e=>{document.addEventListener(e,p,{passive:!0,capture:!0,once:!0})})),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>{requestAnimationFrame(n)})):requestAnimationFrame(n))}();